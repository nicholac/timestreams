
create table testdotstz(oid serial, time_stamp timestamp with time zone, category character varying)

select addgeometrycolumn('public', 'testdotstz', 'the_geom', 4326, 'POINT', 2)

select addgeometrycolumn('public', 'testdots', 'the_geom', 4326, 'POINT', 2)

create index testdots_the_geom_idx on testdots using gist(the_geom)

create index testdots_time_stamp_idx on testdots using btree(time_stamp)


SELECT column_name, data_type 
FROM information_schema."columns"
WHERE "table_name"='testdots'




select count(oid), date_trunc('minute',time_stamp) as time_stamp
FROM testdotstz
GROUP BY date_trunc('minute',time_stamp)
ORDER BY time_stamp


SELECT table_name
  FROM information_schema.tables
 WHERE table_schema='public'
   AND table_type='BASE TABLE';